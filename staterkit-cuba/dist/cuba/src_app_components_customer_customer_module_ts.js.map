{"version":3,"sources":["./src/app/components/customer/container/customer/customer.component.ts","./src/app/components/customer/container/customer/customer.component.html","./src/app/components/customer/container/myVisitor/visitor.component.ts","./src/app/components/customer/container/myVisitor/visitor.component.html","./src/app/components/customer/customer.module.ts","./src/app/components/customer/customer.routing.module.ts"],"names":[],"mappings":"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","file":"src_app_components_customer_customer_module_ts.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { CustomerQuery } from '../../../Admin/customer/state/customer.query';\nimport { VistiorService } from '../../../Admin/visitor/state/vistior.service';\nimport { DatatableComponent, ColumnMode } from '@swimlane/ngx-datatable';\nimport * as moment from 'moment';\nimport { ToastrService } from 'ngx-toastr';\n@Component({\n  selector: 'app-customer',\n  templateUrl: './customer.component.html',\n  styleUrls: ['./customer.component.scss'],\n})\nexport class CustomerComponent implements OnInit {\n  @ViewChild(DatatableComponent, { static: false }) table: DatatableComponent;\n  ColumnMode = ColumnMode;\n\n  data: any[];\n  rows = [];\n  public company = [];\n\n  temp = [];\n  interval: number;\n\n  constructor(private service: VistiorService, private query: CustomerQuery, public toster: ToastrService,) {\n    //  this.company = companyDB.data;\n    // cache our list\n    this.temp = [...this.company];\n\n    // push our inital complete list\n    this.rows = this.company;\n  }\n\n  updateFilter(event) {\n    const val = event.target.value.toLowerCase();\n    console.log(val);\n    // filter our data\n    const temp = this.data.filter(function (d) {\n      return d.name.toLowerCase().indexOf(val) !== -1 || !val;\n    });\n\n    // update the rows\n    this.data = temp;\n    // Whenever the filter changes, always go back to the first page\n    this.table.offset = 0;\n  }\n  columns = [\n    { name: 'id' },\n    { prop: 'visitor' },\n    { name: 'Address' },\n    { name: 'Timein ' },\n    { name: 'Timeout' },\n    { name: 'reason ' },\n    { name: 'customer' },\n    { name: 'ApprovalStatus' },\n    { name: 'ApprovalTime' },\n  ];\n  getRequest() {\n    let datas = [];\n    this.service.getRequest().subscribe((data) => {\n      console.log(data);\n      if (data.status) {\n        console.log('kkk');\n        for (let i = 0; i < data.data.length; i++) {\n          datas.push({\n            id: data.data[i].id,\n            visitor: data.data[i].visitor,\n            // telephone:data.data[i].contact_number,\n            approvalStatus: data.data[i].approval_status,\n            customer: data.data[i].customer_name,\n            address: data.data[i].address,\n            timein: data.data[i].time_in,\n            timeout: data.data[i].time_out,\n            reason: data.data[i].reason,\n            approvalTime: data.data[i].approval_time,\n          });\n        }\n        return this.data = datas;\n      } else {\n        return this.data = [];\n      }\n    });\n  }\n  ngOnInit(): void {\n    this.getRequest();\n    this.interval = setInterval(() => { this.getRequest(); }, 5000);\n   \n   }\n   ngOnDestroy() {\n     if (this.interval) {\n       clearInterval(this.interval);\n     }\n   }\n \n  onApprove(data: any) {\n    console.log(data);\n    let value = {\n      approval_status: 'Approved',\n      id: data.id,\n      approve_time: moment().format('YYYY-MM-DD HH:mm:ss'),\n    };\n    this.service.requestStatus(value).subscribe(res=>{\n      if (res.status == 1) {\n        this.toster.success(res.message);\n        this.getRequest();\n      } else {\n        this.toster.error(res.message);\n      }\n    });\n    \n  }\n  onReject(data: any) {\n    let value = {\n      approval_status: 'Rejected',\n      id: data.id,\n      approve_time: moment().format('YYYY-MM-DD HH:mm:ss'),\n    };\n    this.service.requestStatus(value).subscribe(res=>{\n      if (res.status == 1) {\n        this.toster.error(res.message);\n        this.getRequest();\n      } else {\n        this.toster.error(res.message);\n      }\n    });\n  }\n}\n","<app-breadcrumb></app-breadcrumb>\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <h5>Visitors on waiting</h5>\n                </div>\n                <div class=\"card-body custom-datatable\">\n                    <input type=\"text\" class=\"filter-ngx form-control\" placeholder='Type to filter the name column...'\n                        (keyup)=\"updateFilter($event)\" />\n                    <ngx-datatable #table class='bootstrap' style='width: 1300px;' [columns]=\"columns\"\n                        [columnMode]=\"ColumnMode.force\" [headerHeight]=\"50\" [footerHeight]=\"50\" rowHeight=\"auto\"\n                        [limit]=\"10\" [rows]=\"data\">\n                        <ngx-datatable-column *ngFor=\"let col of columns\" [name]=\"col.name\" [prop]=\"col.prop\">\n                        </ngx-datatable-column>\n                        <ngx-datatable-column name=\"Approve\" sortable=\"false\" prop=\"id\">\n                            <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\n                                <button\n                                    [ngClass]=\"row.approvalStatus!='waiting' ? 'btn btn-outline-primary disabled btn-xs' : 'btn btn-outline-primary btn-xs'\"\n                                    [disabled]=\"row.approvalStatus!='waiting'\" (click)=\"onApprove(row)\">\n                                    Approve\n                                </button>\n                            </ng-template>\n                        </ngx-datatable-column>\n                        <ngx-datatable-column name=\"Reject\" sortable=\"false\" prop=\"id\">\n                            <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\n                                <button\n                                    [ngClass]=\"row.approvalStatus!='waiting' ? 'btn btn-outline-primary disabled btn-xs' : 'btn btn-outline-primary btn-xs'\"\n                                    (click)=\"onReject(row)\" [disabled]=\"row.approvalStatus!='waiting'\">\n                                    Reject\n                                </button>\n                            </ng-template>\n                        </ngx-datatable-column>\n                    </ngx-datatable>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { companyDB } from '../../../../shared/tables/company';\n\nimport { DatatableComponent, ColumnMode } from '@swimlane/ngx-datatable';\nimport { Router } from '@angular/router';\nimport { VisitorQuery } from '../../../Admin/visitor/state/visitore.query'\nimport { VistiorService } from '../../../Admin/visitor/state/vistior.service'\nimport * as moment from 'moment';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-visitor',\n  templateUrl: './visitor.component.html',\n  styleUrls: ['./visitor.component.scss']\n})\nexport class VisitorsComponent implements OnInit {\n  rows = [];\n  public company = [];\ndata:any\n  temp = [];\n\n  columns = [\n    { name: 'roll' },\n    { prop: 'visitor' },\n    { name: 'Address' },\n    { name: 'Timein ' },\n    { name: 'Timeout' },\n    { name: 'reason ' },\n    {name:'customer'},\n    { name: 'ApprovalStatus' },\n    {name: 'ApprovalTime'}\n  ];\n  @ViewChild(DatatableComponent, { static: false }) table: DatatableComponent;\n\n  ColumnMode = ColumnMode;\n\n  constructor(\n    private service: VistiorService,\n    private query: VisitorQuery,\n    private router: Router,\n    public toster: ToastrService,\n  ) {\n    \n    this.company = companyDB.data;\n    // cache our list\n    this.temp = [...this.company];\n\n    // push our inital complete list\n      this.rows = this.company;\n    \n  }\n\n \n  updateFilter(event) {\n  \n    const val = event.target.value.toLowerCase();\n    console.log(val);\n    // filter our data\n    const temp = this.data.filter(function (d) {\n      return d.name.toLowerCase().indexOf(val) !== -1 || !val;\n    });\n\n    // update the rows\n    this.data = temp;\n    // Whenever the filter changes, always go back to the first page\n    this.table.offset = 0;\n  }\n  ngOnInit(): void {\n    let datas=[]\n    this.service.get().subscribe((data) => {\n    console.log(data)\n    if(data.status){\n      console.log('kkk')\n      for (let i = 0; i < data.data.length; i++) {\n     datas.push({\n          roll: data.data[i].id,\n          visitor: data.data[i].visitor   ,\n         // telephone:data.data[i].contact_number,\n          approvalStatus:data.data[i].approval_status,\n          customer:data.data[i].customer_name,  \n            address: data.data[i].address,\n          timein:data.data[i].time_in,\n          timeout: data.data[i].time_out,\n          reason:data.data[i].reason,\n          approvalTime: data.data[i].approval_time,\n        });\n      }\n    this.data=datas\n\n    }\n    });\n   console.log(this.data);\n  }\n\n\n  onCheckOut(event: any): void {\n    let datas=[]\n    console.log(event);\n    var date = moment().format('YYYY-MM-DD HH:mm:ss');\n    const selectedId = event.roll;\n    let data = {\n      id: selectedId,\n      exitTime: date,\n    };\nconsole.log('sada')\n    this.service.updateTime(data).subscribe();\n    this.service.getRequest().subscribe((data) => {\n      console.log(data)\n      if(data.status){\n        console.log('kkk')\n        for (let i = 0; i < data.data.length; i++) {\n       datas.push({\n            roll: data.data[i].id,\n            visitor: data.data[i].visitor   ,\n           // telephone:data.data[i].contact_number,\n            approvalStatus:data.data[i].approval_status,\n            customer:data.data[i].customer_name,  \n              address: data.data[i].address,\n            timein:data.data[i].time_in,\n            timeout: data.data[i].time_out,\n            reason:data.data[i].reason,\n            approvalTime: data.data[i].approval_time,\n          });\n        }\n      this.data=datas\n  \n      }\n      });\n  }\n  onApprove(data:any) {\n    console.log(data);\n    let value={\n      approval_status:\"Approved\",\n      id:data.roll,\n      approve_time:moment().format('YYYY-MM-DD HH:mm:ss')\n    }\n    this.service.requestStatus(value).subscribe()\n  }\n  onReject(data:any) {\n    \n    let value={\n      approval_status:\"Rejected\",\n      id:data.roll,\n      approve_time:moment().format('YYYY-MM-DD HH:mm:ss')\n    }\n    this.service.requestStatus(value).subscribe()\n  }\n}\n","<app-breadcrumb ></app-breadcrumb>\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <h5>All Visitors</h5>\n                </div>\n                <div class=\"card-body custom-datatable\">\n                    <input type=\"text\" class=\"filter-ngx form-control\" placeholder='Type to filter the name column...'\n                        (keyup)=\"updateFilter($event)\" />\n                    <ngx-datatable #table class='bootstrap' [columns]=\"columns\" [columnMode]=\"ColumnMode.force\"\n                        [headerHeight]=\"50\" [footerHeight]=\"50\" rowHeight=\"auto\" [limit]=\"10\" [rows]=\"data\">\n                        <ngx-datatable-column *ngFor=\"let col of columns\" [name]=\"col.name\"  [prop]=\"col.prop\">\n                        </ngx-datatable-column>\n                        <ngx-datatable-column name=\"Approve\" sortable=\"false\" prop=\"id\">\n                            <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\n                                <button\n                                    [ngClass]=\"row.approvalStatus!='waiting' ? 'btn btn-outline-primary disabled' : 'btn btn-outline-primary btn-xs'\"\n                                    [disabled]=\"row.approvalStatus!='waiting'\" (click)=\"onApprove(row)\">\n                                    Approve\n                                </button>\n                            </ng-template>\n                        </ngx-datatable-column>\n                        <ngx-datatable-column name=\"Reject\" sortable=\"false\" prop=\"id\">\n                            <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\n                                <button\n                                    [ngClass]=\"row.approvalStatus!='waiting' ? 'btn btn-outline-primary disabled' : 'btn btn-outline-primary btn-xs'\"\n                                    (click)=\"onReject(row)\" [disabled]=\"row.approvalStatus!='waiting'\">\n                                    Reject\n                                </button>\n                            </ng-template>\n                        </ngx-datatable-column>\n                    </ngx-datatable>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '../../shared/shared.module';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { CustomerRoutingModule } from '../customer/customer.routing.module';\nimport { CustomerComponent } from './../customer/container/customer/customer.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\nimport { VisitorsComponent } from '../customer/container/myVisitor/visitor.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    CustomerRoutingModule,\n    NgxDatatableModule,\n    NgbModule,\n    NgSelectModule,\n  ],\n  declarations: [CustomerComponent,VisitorsComponent]\n})\nexport class CustomerModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { VisitorsComponent } from '../customer/container/myVisitor/visitor.component';\nimport { CustomerComponent } from './container/customer/customer.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n   children: [\n     {\n        path:'',\n     component: CustomerComponent\n    },\n    {\n      path:'visitors',\n      component:VisitorsComponent\n\n    }\n   ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CustomerRoutingModule { }\n"],"sourceRoot":"webpack:///"}