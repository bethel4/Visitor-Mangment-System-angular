{"version":3,"sources":["./src/app/components/Admin/customer/state/customer.query.ts","./src/app/components/Admin/customer/state/customer.service.ts"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["import { state } from '@angular/animations';\nimport { Injectable } from '@angular/core';\nimport { QueryEntity } from '@datorama/akita';\nimport { CustomerState,CustomerStore } from './customer.store';\n\n@Injectable({ providedIn: 'root' })\nexport class CustomerQuery extends QueryEntity<CustomerState> {\n  constructor(protected store: CustomerStore) {\n    super(store);\n\n  }\n  selectCustomer(){\n    return this.select((state) =>state.entities?.data); \n  }\n  }\n  \n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/internal/operators/tap';\nimport { environment } from 'src/environments/environment';\nimport { CustomerStore } from './customer.store';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CustomerService {\n  constructor(private store:CustomerStore,private http: HttpClient) { }\n  get(): Observable<any> {\n    const url = `${environment.apiUrl}/get_customers.php`;\n    return this.http.get(url)\n      .pipe(\n        tap((result: any) => {\n          if (result.status==1) {\n            this.store.set(result);\n          } else {\n           console.log('error has occured')\n          }\n        }, error => {\n          console.log(error.message)\n        })\n      );\n  }\n  add(data: any): Observable<any[]|null|undefined> {\n    console.log(data);\n    const url = `${environment.apiUrl}/reg_customer.php`;\n    return this.http.post(url, data).pipe(\n      tap(\n        (result: any) => {\n          if (result.status==1) {\n            this.store.add(result.data);\n          } else {\n            console.log('error has occured')\n          }\n        },\n        (error) => {\n         console.log(error.message)\n        }\n      )\n    );\n    \n  }\n  update( data:any): Observable<any> {\n    const url = `${environment.apiUrl}/edit_customer.php`;\n    return this.http.put(url, data)\n      .pipe(\n        tap((result: any) => {\n          if (result.status==1) {\n            console.log(result.data[0])\n            this.store.update(result.data[0].ID, result.data[0]);\n          } else {\n           console.log('error has occured')\n          }\n        }, error => {\n          console.log(error.message)\n        })\n      );\n  }\n  delete(id:any): Observable<any> {\n    const url = `${environment.apiUrl}/del_customer.php/?${id}`;\n    return this.http.put(url,id)\n      .pipe(\n        tap((result: any) => {\n          if (result.status==1) {\n            //this.store.remove(id);\n            this.get().subscribe();\n          } else {\n           console.log('Error deleting')\n          }\n        }, error => {\n        console.log(error.message)\n        })\n      );\n  }\n}\n"],"sourceRoot":"webpack:///"}